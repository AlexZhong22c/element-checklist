(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03c56540"],{"09ca":function(t,e,n){"use strict";n("9bf2")},"0d76":function(t){t.exports=JSON.parse('{"code":200,"data":{"items":[{"id":345678,"name":"电子烟","price":2990,"sales":0,"infinite_stock":true,"introduction":"商品说明"},{"id":234567,"name":"吸尘器","price":1990,"sales":4,"infinite_stock":true,"introduction":"吸尘器商品说明"},{"id":345678,"name":"吹风机","price":990,"sales":8,"infinite_stock":false,"introduction":"吹风机商品说明"}],"count":3}}')},2820:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:5}},[e("el-card",{staticClass:"box-card"},[e("TableEditor",{attrs:{"get-table-a-p-i":t.getTableAPI},on:{"update:getTableAPI":function(e){t.getTableAPI=e},"update:get-table-a-p-i":function(e){t.getTableAPI=e},change:t.setTableData}})],1)],1),e("el-col",{attrs:{span:19}},[e("TableExhibition",{attrs:{"get-table-a-p-i":t.getTableAPI,"table-data":t.tableData}})],1)],1)],1)},r=[],i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"clearfix",staticStyle:{"margin-bottom":"15px"},attrs:{slot:"header"},slot:"header"},[e("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请求接口函数名"},model:{value:t.getTableDataAPI,callback:function(e){t.getTableDataAPI="string"===typeof e?e.trim():e},expression:"getTableDataAPI"}}),e("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.prettierJSON(t.codeString)}}},[t._v("生成表格")])],1),e("el-input",{attrs:{type:"textarea",autosize:{minRows:5},placeholder:"请输入内容, eg:{value:label}，JSON或JS对象格式"},on:{change:t.prettierJSON},model:{value:t.codeString,callback:function(e){t.codeString=e},expression:"codeString"}})],1)},o=[],c=n("cc9b"),l=c["a"],s=n("2877"),u=Object(s["a"])(l,i,o,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[e("TableExhibitionQuery",{attrs:{headers:t.headers}})],1),e("el-card",{staticClass:"box-card"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("TableExhibitionHeader",{attrs:{headers:t.headers},on:{"update:headers":function(e){t.headers=e}}})],1),e("el-col",{attrs:{span:18}},[e("TableExhibitionBody",{attrs:{list:t.list,headers:t.headers}})],1)],1)],1)],1)},b=[],f=(n("ac6a"),n("456d"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("h3",[t._v("表格展示区")]),e("el-table",{key:t.table_key,staticStyle:{width:"100%"},attrs:{data:t.list,border:""},on:{"header-click":t.test}},[t._l(t.headers,(function(n){return[n.show?e("el-table-column",{key:n.key,attrs:{label:n.label,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(t._s(a[n.key]))]}}],null,!0)}):t._e()]}))],2)],1)}),h=[],y={props:{list:{type:null,required:!0},headers:{type:Array,required:!0}},watch:{headers:function(){this.table_key++}},data:function(){return{query:{limit:20,cursor:1},table_key:0,total:0}},created:function(){},methods:{editdata:function(){},test:function(t){console.log("val",t)}}},m=y,_=Object(s["a"])(m,f,h,!1,null,null,null),g=_.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-query"},[e("div",[t._v("\n    查询项\n    "),t._l(t.headers,(function(n){return e("span",{key:n.key},[n.query?e("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[t._v(t._s(n.label))]):t._e()],1)}))],2),e("div",[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleClipboard(t.srcTableCode,e)}}},[t._v("\n      复制代码\n    ")]),e("el-button",{attrs:{type:"text"},on:{click:t.skipToEditorCode}},[t._v("在线查看代码")]),t.isOffline?t._e():e("FileGen")],1)])},k=[],O=(n("8e6e"),n("ade3")),w=n("347a"),x=n("2f62"),T=n("ed08");function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){Object(O["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q={components:{FileGen:w["a"]},props:{headers:{type:Array,required:!0}},computed:j({},Object(x["b"])(["srcTableCode","isOffline"])),methods:{handleClipboard:function(t,e){var n=this;Object(T["b"])(t,e).then((function(){n.$message.success("已经复制到剪贴板")}))},skipToEditorCode:function(){this.$router.push("/code-editor").catch((function(t){return t}))}}},E=q,P=(n("59bb"),Object(s["a"])(E,v,k,!1,null,"5012529f",null)),C=P.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-header"},[e("h3",[t._v("表头编辑区")]),e("draggable",{attrs:{group:"people"},on:{change:t.set,start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.tableHeaders,callback:function(e){t.tableHeaders=e},expression:"tableHeaders"}},t._l(t.tableHeaders,(function(n){return e("div",{key:n.key},[e("el-popover",{attrs:{placement:"right",trigger:"focus"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"该字段在表格中".concat(n.show?"显示":"隐藏"),placement:"top-start"}},[n.show?e("el-button",{attrs:{type:"info",icon:"el-icon-close",size:"small",circle:""},on:{click:function(e){return t.hide(n)}}}):e("el-button",{attrs:{type:"success",icon:"el-icon-check",size:"small",circle:""},on:{click:function(e){return t.show(n)}}})],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"该字段".concat(""===n.opt?"未":"","置于template标签内，置于template方便自定义"),placement:"top-start"}},[""===n.opt?e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-coordinate",circle:""},on:{click:function(e){return t.opt(n,"template")}}}):e("el-button",{attrs:{size:"small",type:"info",icon:"el-icon-coordinate",circle:""},on:{click:function(e){return t.opt(n,"")}}})],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"该字段".concat(n.query?"是":"不是","查询项"),placement:"top-start"}},[n.query?e("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-magic-stick",circle:""},on:{click:function(e){return t.query(n,!1)}}}):e("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-search",circle:""},on:{click:function(e){return t.query(n,!0)}}})],1),e("div",{staticClass:"table-header-card",attrs:{slot:"reference"},slot:"reference"},[n.show?e("el-tag",{attrs:{type:"success"}},[t._v(t._s(n.key))]):e("el-tag",{attrs:{type:"info"}},[t._v(t._s(n.key))]),e("div",[e("el-input",{staticClass:"input-custom",attrs:{size:"small",placeholder:"请输入"},model:{value:n.label,callback:function(e){t.$set(n,"label","string"===typeof e?e.trim():e)},expression:"header.label"}})],1)],1)],1)],1)})),0)],1)},D=[],I=n("b76a"),z=n.n(I),L={components:{draggable:z.a},props:{headers:{type:Array,required:!0}},watch:{headers:function(t){this.tableHeaders=t}},data:function(){return{tableHeaders:this.headers}},methods:{set:function(){this.$emit("update:headers",this.tableHeaders)},show:function(t){t.show=!0},hide:function(t){t.show=!1},opt:function(t,e){t.opt=e},query:function(t,e){console.log("query",e),t.query=e}}},B=L,J=(n("09ca"),Object(s["a"])(B,A,D,!1,null,"556f32c3",null)),H=J.exports,$=function(t){return t.filter((function(t){return t.show})).map((function(t){return R[t.key]||"template"===t.opt?N(t.key,t.label):M(t.key,t.label)})).join("\n      ")},M=function(t,e){return"<el-table-column prop='".concat(t,"' label='").concat(e,"' align='center' />")},N=function(t,e){var n="";return n=R[t]?"parseTime(row.".concat(t,")"):"row.".concat(t),"<el-table-column label='".concat(e,"'  align='center'>\n          <template slot-scope={row}>\n            {{ ").concat(n," }}\n          </template>\n        </el-table-column>")},R={created_at:!0,create_time:!0,updated_at:!0,update_time:!0,start_time:!0,end_time:!0},K=function(t,e){return t.filter((function(t){return t.query})).map((function(t){return"number"===typeof t.value?U(t.key,e):"string"===typeof t.value?Q(t.key,e):"boolean"===typeof t.value?W(t.key,e):"start_time"===t.key||"end_time"===t.key?F(e):void 0})).join("\n      ")},Q=function(t,e){return"<el-input v-model.trim='query.".concat(t,"' placeholder='请输入").concat(t,"'  style='width:200px' @keyup.enter.native='").concat(e,"' />")},U=function(t,e){return"<el-input v-model.number='query.".concat(t,"' placeholder='请输入").concat(t,"' style='width:200px' type='number' @keyup.enter.native='").concat(e,"'></el-input>")},W=function(t,e){return"<el-checkbox v-model='query.".concat(t,"' label='true' @change='").concat(e,"'></el-checkbox>")},F=function(t){return"<date-range :start.sync='query.start_time' :end.sync='query.end_time' @change='".concat(t,"' />")},G=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"getList";return'\n  <template>\n  <div class="app-container">\n    <div style="margin-bottom: 20px">\n      '.concat(K(t,e),'\n      <el-button\n        type="primary"\n        style="margin-left: 10px"\n        icon="el-icon-search"\n        @click="').concat(e,'ByQuery"\n      >搜索</el-button>\n    </div>\n    <el-table :data="lists" border style="width: 100%">\n      ').concat($(t),'\n      <el-table-column label="操作" align="center">\n        <template slot-scope="scope">\n          <el-button size="mini" type="primary" @click="editList(scope.row)">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n      :total="total"\n      :page.sync="query.cursor"\n      :limit.sync="query.limit"\n      @pagination="').concat(e,'"\n    />\n  </div>\n</template>\n\n<script>\nimport { ').concat(e,' } from "./api.js";\n\nexport default {\n  data() {\n    return {\n      lists: undefined,\n      query: {\n        limit: 20,\n        cursor: 1\n      },\n      total: 0\n    };\n  },\n  created() {\n    this.').concat(e,"();\n  },\n  methods: {\n    async ").concat(e,"() {\n      const res = await getList(this.query);\n      this.lists = res.data.items;\n      this.total = res.data.total_count;\n    },\n    ").concat(e,'ByQuery() {\n      this.query.cursor = 1;\n      this.getList();\n    },\n    editList(list) {\n      console.log("list", list);\n    }\n  }\n};\n<\/script>')},V={components:{TableExhibitionBody:g,TableExhibitionHeader:H,TableExhibitionQuery:C},props:{tableData:{type:Object,required:!0},getTableAPI:{type:String,required:!0}},watch:{tableData:{handler:function(t){var e=this;this.list=t.data&&t.data.items.slice(0,3),this.list&&(this.headers=Object.keys(this.list[0]).map((function(t){return{value:e.list[0][t],key:t,label:t,show:!0,opt:"",query:!1}})))},immediate:!0},getTableAPI:function(t){this.code=G(this.headers,t),this.$store.commit("SET_SRC_TABLE_CODE",this.code),window.localStorage.setItem("vue-element-table-gen-code",this.code)},headers:{handler:function(t){this.code=G(t,this.getTableAPI),this.$store.commit("SET_SRC_TABLE_CODE",this.code),window.localStorage.setItem("vue-element-table-gen-code",this.code)},deep:!0}},data:function(){return{list:[],code:"",headers:[],query:{limit:20,cursor:1},total:0}},created:function(){},methods:{editdata:function(){},test:function(t){console.log("val",t)}}},X=V,Y=Object(s["a"])(X,p,b,!1,null,null,null),Z=Y.exports,tt={components:{TableEditor:d,TableExhibition:Z},data:function(){return{tableData:{},getTableAPI:""}},methods:{setTableData:function(t){this.tableData=t}}},et=tt,nt=Object(s["a"])(et,a,r,!1,null,null,null),at=nt.exports;e["default"]=at},"59bb":function(t,e,n){"use strict";n("90f1")},"90f1":function(t,e,n){},"9bf2":function(t,e,n){},cc9b:function(module,__webpack_exports__,__webpack_require__){"use strict";var _test_json__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("0d76"),_test_json__WEBPACK_IMPORTED_MODULE_0___namespace=__webpack_require__.t("0d76",1);__webpack_exports__["a"]={props:{getTableAPI:{type:String}},data:function(){return{codeObject:"",codeString:JSON.stringify(_test_json__WEBPACK_IMPORTED_MODULE_0__,void 0,2)}},computed:{getTableDataAPI:{get:function(){return this.getTableAPI},set:function(t){this.$emit("update:getTableAPI",t)}}},created:function(){this.$emit("change",_test_json__WEBPACK_IMPORTED_MODULE_0__)},methods:{prettierJSON:function prettierJSON(val){var fixedStr=String(val);this.codeObject=eval("(".concat(fixedStr,")")),this.$emit("change",this.codeObject)}}}}}]);